"use strict";(self.webpackChunkLanonasisReactUI=self.webpackChunkLanonasisReactUI||[]).push([[878],{10140(e,t,r){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollArea=void 0;const a=r(74848),o=s(r(96540)),n=r(59050);t.ScrollArea=o.default.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsx)("div",{ref:s,className:(0,n.cn)("overflow-auto",e),style:{scrollbarWidth:"thin",scrollbarColor:"var(--vscode-scrollbarSlider-background) var(--vscode-scrollbarSlider-hoverBackground)"},...r,children:t})),t.ScrollArea.displayName="ScrollArea"},10836(e,t,r){var s,a=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=s(e),n=0;n<r.length;n++)"default"!==r[n]&&a(t,e,r[n]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GuidedTourOverlay=void 0;const c=r(74848),d=n(r(96540)),l=r(72832),u=i(r(86103)),p=r(59050);t.GuidedTourOverlay=({open:e,steps:t,onClose:r,onComplete:s,scrollContainerRef:a})=>{const[o,n]=(0,d.useState)(0),[i,m]=(0,d.useState)(null),v=t[o],x=(0,d.useCallback)(()=>{if(!v?.selector)return void m(null);const e=document.querySelector(v.selector);if(!e)return void m(null);const t=e.getBoundingClientRect();m(t)},[v]);(0,d.useEffect)(()=>{e&&n(0)},[e]),(0,d.useEffect)(()=>{if(!e)return;x();const t=()=>x();window.addEventListener("resize",t),window.addEventListener("scroll",t);const r=a?.current;return r&&r.addEventListener("scroll",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("scroll",t),r&&r.removeEventListener("scroll",t)}},[e,x,a]);const h=(0,d.useMemo)(()=>i?{top:Math.max(i.top-8,8),left:Math.max(i.left-8,8),width:Math.min(i.width+16,window.innerWidth-16),height:Math.min(i.height+16,window.innerHeight-16)}:null,[i]),g=(0,d.useMemo)(()=>{if(!i)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:260};const e=i.bottom+16,t=i.left;return{top:Math.min(e,window.innerHeight-220),left:Math.min(Math.max(t,12),window.innerWidth-260-12),width:260}},[i]);return e&&0!==t.length&&v?(0,c.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-black/65"}),h&&(0,c.jsx)("div",{className:"absolute rounded-lg border border-[var(--vscode-focusBorder)] shadow-xl transition-all",style:{...h,boxShadow:"0 0 0 9999px rgba(0,0,0,0.65)"}}),(0,c.jsxs)("div",{className:(0,p.cn)("absolute rounded-lg border border-[var(--vscode-panel-border)] bg-[var(--vscode-editor-background)] p-4 text-[12px] text-[var(--vscode-editor-foreground)] shadow-2xl"),style:g,children:[(0,c.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsxs)("p",{className:"text-[11px] uppercase tracking-wide text-[var(--vscode-descriptionForeground)]",children:["Step ",o+1," of ",t.length]}),(0,c.jsx)("h3",{className:"text-[13px] font-semibold",children:v.title})]}),(0,c.jsx)("button",{className:"text-[var(--vscode-descriptionForeground)] hover:text-[var(--vscode-editor-foreground)]",onClick:r,"aria-label":"Close tour",children:(0,c.jsx)(l.X,{className:"h-4 w-4"})})]}),(0,c.jsx)("p",{className:"mt-2 text-[12px] text-[var(--vscode-descriptionForeground)]",children:v.description}),(0,c.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-2",children:[(0,c.jsxs)(u.default,{variant:"ghost",size:"sm",className:"h-7 text-[11px]",onClick:()=>{n(e=>Math.max(e-1,0))},disabled:0===o,children:[(0,c.jsx)(l.ArrowLeft,{className:"mr-1 h-3 w-3"}),"Back"]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(u.default,{variant:"ghost",size:"sm",className:"h-7 text-[11px]",onClick:r,children:"Skip"}),(0,c.jsxs)(u.default,{size:"sm",className:"h-7 text-[11px] vscode-button",onClick:()=>{o>=t.length-1?s():n(e=>Math.min(e+1,t.length-1))},children:[o>=t.length-1?"Finish":"Next",(0,c.jsx)(l.ArrowRight,{className:"ml-1 h-3 w-3"})]})]})]})]})]}):null}},11561(e,t,r){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBar=void 0;const a=r(74848),o=(s(r(96540)),r(86791));t.SearchBar=({value:e,onChange:t,placeholder:r="Search memories...",disabled:s=!1})=>(0,a.jsx)("div",{className:"relative mb-3","data-tour":"search",children:(0,a.jsx)(o.Input,{placeholder:r,className:"vscode-input h-7 text-[13px] pl-2",value:e,onChange:e=>t(e.target.value),disabled:s,"aria-label":r,"data-testid":"input-search"})})},19582(e,t,r){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(74848),o=(s(r(96540)),r(59050));t.default=({className:e,variant:t="default",...r})=>(0,a.jsx)("div",{className:(0,o.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}[t],e),...r})},20466(e,t,r){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=void 0;const a=r(74848),o=(s(r(96540)),r(59050));t.Separator=({className:e,orientation:t="horizontal",...r})=>(0,a.jsx)("div",{className:(0,o.cn)("shrink-0 bg-[var(--vscode-panel-border)]","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r})},21561(e,t,r){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WelcomeView=void 0;const a=r(74848),o=(s(r(96540)),r(72832)),n=s(r(86103)),i=r(20466);t.WelcomeView=({onLogin:e,isLoading:t})=>(0,a.jsxs)("div",{className:"p-4 space-y-5 select-none",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg border border-[var(--vscode-panel-border)] bg-[var(--vscode-editor-background)]",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--vscode-button-background)]/15 via-transparent to-[var(--vscode-button-background)]/10"}),(0,a.jsxs)("div",{className:"relative p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Sparkles,{className:"h-4 w-4 text-[var(--vscode-button-background)]"}),(0,a.jsx)("h2",{className:"text-[13px] font-semibold text-[var(--vscode-editor-foreground)]",children:"Welcome to LanOnasis Memory"})]}),(0,a.jsx)("p",{className:"text-[12px] text-[var(--vscode-descriptionForeground)] leading-relaxed",children:"Capture decisions, recall context, and sync your knowledge across IDEs."}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2 pt-1",children:["Capture","Search","Reuse"].map(e=>(0,a.jsxs)("div",{className:"rounded-md border border-[var(--vscode-panel-border)] bg-[var(--vscode-sideBar-background)] px-2 py-2",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wide text-[var(--vscode-descriptionForeground)]",children:e}),(0,a.jsx)("div",{className:"mt-2 h-1.5 w-full rounded-full bg-[var(--vscode-editorGroup-border)]"}),(0,a.jsx)("div",{className:"mt-1 h-1 w-2/3 rounded-full bg-[var(--vscode-button-background)] animate-pulse"})]},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-[12px] text-[var(--vscode-descriptionForeground)]",children:"Authenticate to access synchronized context and scoped API keys."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.default,{className:"w-full vscode-button",onClick:()=>e("oauth"),disabled:t,"data-testid":"btn-connect-browser","aria-busy":t,children:t?"Connecting...":"Connect in Browser"}),(0,a.jsx)(n.default,{className:"w-full vscode-button vscode-button-secondary",onClick:()=>e("apikey"),disabled:t,"data-testid":"btn-enter-key","aria-busy":t,children:t?"Validating...":"Enter API Key"}),(0,a.jsx)("a",{className:"block text-[12px] text-[#4FA3FF] hover:underline text-center",href:"https://docs.lanonasis.com/api-keys",target:"_blank",rel:"noreferrer noopener",children:"Get API Key (docs)"})]})]}),(0,a.jsx)(i.Separator,{className:"bg-[var(--vscode-panel-border)]"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-[11px] font-bold text-[var(--vscode-editor-foreground)] uppercase opacity-80",children:"Highlights"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(o.Lightbulb,{className:"h-4 w-4 text-[var(--vscode-button-background)] mt-0.5"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h4",{className:"text-[12px] font-medium text-[var(--vscode-editor-foreground)]",children:"Intelligent Memory"}),(0,a.jsx)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)] leading-relaxed opacity-80",children:"Vector search and semantic understanding for your codebase."})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(o.Globe,{className:"h-4 w-4 text-[var(--vscode-button-background)] mt-0.5"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h4",{className:"text-[12px] font-medium text-[var(--vscode-editor-foreground)]",children:"Real-time Sync"}),(0,a.jsx)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)] leading-relaxed opacity-80",children:"Synchronized context across all your devices."})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(o.Layers,{className:"h-4 w-4 text-[var(--vscode-button-background)] mt-0.5"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h4",{className:"text-[12px] font-medium text-[var(--vscode-editor-foreground)]",children:"Structured Context"}),(0,a.jsx)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)] leading-relaxed opacity-80",children:"Keep decisions, snippets, and knowledge organized by type."})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(o.Zap,{className:"h-4 w-4 text-[var(--vscode-button-background)] mt-0.5"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h4",{className:"text-[12px] font-medium text-[var(--vscode-editor-foreground)]",children:"Fast Capture"}),(0,a.jsx)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)] leading-relaxed opacity-80",children:"Save selections or clipboard content without leaving your editor."})]})]})]})]}),(0,a.jsx)(i.Separator,{className:"bg-[var(--vscode-panel-border)]"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-[11px] font-bold text-[var(--vscode-editor-foreground)] uppercase opacity-80",children:"Tutorials"}),(0,a.jsx)("div",{className:"space-y-2",children:[{title:"Quick Start",duration:"2 min",href:"https://docs.lanonasis.com/videos#quick-start"},{title:"Feature Overview",duration:"5 min",href:"https://docs.lanonasis.com/videos#overview"},{title:"Deep Dive",duration:"10 min",href:"https://docs.lanonasis.com/videos#deep-dive"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 rounded-md border border-[var(--vscode-panel-border)] bg-[var(--vscode-sideBar-background)] px-3 py-2",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)("p",{className:"text-[12px] font-medium text-[var(--vscode-editor-foreground)]",children:e.title}),(0,a.jsxs)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)]",children:[e.duration," walkthrough"]})]}),(0,a.jsx)("a",{className:"vscode-button px-3 py-1 text-[11px] text-center",href:e.href,target:"_blank",rel:"noreferrer noopener",children:"Watch"})]},e.title))})]})]})},21693(e,t,r){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChatInterface=void 0;const a=r(74848),o=(s(r(96540)),s(r(86103))),n=r(72832);t.ChatInterface=({value:e,onChange:t,onSend:r,isAuthenticated:s,disabled:i=!1,isLoading:c=!1,attachedCount:d=0,onPaste:l})=>{const u=()=>{e.trim()&&s&&!i&&!c&&(r(e.trim()),t(""))};return(0,a.jsxs)("div",{className:"p-3 bg-[var(--vscode-sideBar-background)] border-t border-[var(--vscode-panel-border)]",children:[(0,a.jsxs)("div",{className:"relative bg-[var(--vscode-input-background)] border border-[var(--vscode-input-border)] focus-within:border-[var(--vscode-focusBorder)] rounded-[2px] transition-colors",children:[(0,a.jsx)("div",{className:"p-2 pb-8",children:(0,a.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:s?d>0?`Ask about ${d} attached memor${d>1?"ies":"y"}...`:"Ask a question or search memories...":"Connect to start chatting","aria-label":"Chat prompt",disabled:!s||i||c,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u())},className:"w-full min-h-[40px] bg-transparent border-none text-[13px] text-[var(--vscode-input-foreground)] placeholder:text-[var(--vscode-input-placeholderForeground)] resize-none focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed font-sans","data-testid":"textarea-chat"})}),(0,a.jsxs)("div",{className:"absolute left-2 bottom-1.5 flex gap-1",children:[d>0&&(0,a.jsxs)("div",{className:"flex items-center gap-1 px-1.5 h-6 rounded-[2px] bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)] text-[10px]",children:[(0,a.jsx)(n.Paperclip,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:d})]}),(0,a.jsx)(o.default,{size:"icon",variant:"ghost",className:"h-6 w-6 text-[var(--vscode-icon-foreground)] hover:bg-[var(--vscode-list-hoverBackground)] rounded-[2px]",disabled:!s||i,onClick:l,title:"Paste from clipboard to create memory","aria-label":"Paste from clipboard to create memory","data-testid":"btn-paste",children:(0,a.jsx)(n.ClipboardPaste,{className:"h-3.5 w-3.5"})})]}),(0,a.jsxs)("div",{className:"absolute right-2 bottom-1.5 flex items-center gap-1",children:[e.length>100&&(0,a.jsx)("span",{className:"text-[10px] text-[var(--vscode-descriptionForeground)] opacity-60 mr-1",children:e.length}),(0,a.jsx)(o.default,{size:"icon",className:"h-6 w-6 bg-[var(--vscode-button-background)] hover:bg-[var(--vscode-button-hoverBackground)] text-[var(--vscode-button-foreground)] rounded-[2px] disabled:opacity-50",disabled:!s||i||c||!e.trim(),onClick:u,"data-testid":"btn-send","aria-label":"Send message",children:c?(0,a.jsx)("div",{className:"h-3.5 w-3.5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(n.Send,{className:"h-3.5 w-3.5"})})]})]}),(0,a.jsxs)("div",{className:"mt-1 flex items-center justify-between text-[10px] text-[var(--vscode-descriptionForeground)] opacity-60",children:[(0,a.jsx)("span",{children:"Press Enter to send, Shift+Enter for new line"}),(0,a.jsx)("span",{children:"⌘⇧S to quick capture"})]})]})}},27027(e,t,r){var s,a=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=s(e),n=0;n<r.length;n++)"default"!==r[n]&&a(t,e,r[n]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsibleContent=t.Collapsible=void 0;const i=r(74848),c=n(r(96540)),d=r(59050),l=c.default.createContext(void 0);t.Collapsible=({open:e,onOpenChange:t,children:r,className:s})=>{const[a,o]=(0,c.useState)(!1),n=void 0!==e,d=n?e:a,u=n?t:o;return(0,i.jsx)(l.Provider,{value:{open:d??!1,onOpenChange:u||(()=>{})},children:(0,i.jsx)("div",{className:s,children:r})})},t.CollapsibleContent=({className:e,children:t,...r})=>{const s=c.default.useContext(l);return s?.open?(0,i.jsx)("div",{className:(0,d.cn)("overflow-hidden",e),...r,children:t}):null}},35378(e,t,r){var s,a=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=s(e),n=0;n<r.length;n++)"default"!==r[n]&&a(t,e,r[n]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=void 0;const c=r(74848),d=n(r(96540)),l=r(72832),u=i(r(86103));class p extends d.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null},this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleReload=()=>{window.vscode&&(window.vscode.postMessage({type:"getAuthState"}),window.vscode.postMessage({type:"getMemories"})),this.setState({hasError:!1,error:null,errorInfo:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("[ErrorBoundary] Caught error:",e),console.error("[ErrorBoundary] Component stack:",t.componentStack),this.setState({errorInfo:t}),window.vscode&&window.vscode.postMessage({type:"error",data:`UI Error: ${e.message}`})}render(){if(this.state.hasError){const{fallbackMessage:e="Something went wrong loading this section."}=this.props,t=this.state.error?.message||"Unknown error";return(0,c.jsxs)("div",{className:"p-4 flex flex-col items-center justify-center gap-3 text-center min-h-[200px]",children:[(0,c.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-[var(--vscode-inputValidation-errorBackground)]",children:(0,c.jsx)(l.AlertTriangle,{className:"h-5 w-5 text-[var(--vscode-errorForeground)]"})}),(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsx)("h3",{className:"text-[13px] font-medium text-[var(--vscode-editor-foreground)]",children:e}),(0,c.jsx)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)] max-w-[250px]",children:t})]}),(0,c.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,c.jsxs)(u.default,{variant:"ghost",size:"sm",className:"h-7 text-[11px] gap-1.5",onClick:this.handleRetry,children:[(0,c.jsx)(l.RefreshCw,{className:"h-3 w-3"}),"Try Again"]}),(0,c.jsx)(u.default,{variant:"ghost",size:"sm",className:"h-7 text-[11px] gap-1.5 text-[var(--vscode-textLink-foreground)]",onClick:this.handleReload,children:"Reload Data"})]}),!1]})}return this.props.children}}t.ErrorBoundary=p,t.default=p},43033(e,t,r){var s,a=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=s(e),n=0;n<r.length;n++)"default"!==r[n]&&a(t,e,r[n]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OnboardingPanel=void 0;const c=r(74848),d=n(r(96540)),l=r(72832),u=i(r(86103)),p=i(r(19582)),m=r(20466),v=r(59050);t.OnboardingPanel=({status:e,isAuthenticated:t,isAuthLoading:r,onLogin:s,onCreateSampleMemory:a,onSearchMemories:o,onStartTour:n,onSkip:i})=>{const x=(0,d.useMemo)(()=>e.totalCount?Math.round(e.completedCount/e.totalCount*100):0,[e.completedCount,e.totalCount]),h=(0,d.useMemo)(()=>[{id:"authenticate",title:"Connect your account",description:"Sign in with OAuth or add an API key to sync your memories.",completed:e.state.completedSteps.includes("authenticate"),action:t?void 0:()=>s("oauth"),actionLabel:t?"Connected":"Connect in Browser"},{id:"create_memory",title:"Create a sample memory",description:"Seed your memory bank with a starter example.",completed:e.state.completedSteps.includes("create_memory"),action:a,actionLabel:"Create sample"},{id:"search",title:"Search for context",description:"Run a quick semantic search to see matching memories.",completed:e.state.completedSteps.includes("search"),action:o,actionLabel:"Search now"},{id:"tour",title:"Take the quick tour",description:"Explore key features and command shortcuts.",completed:e.state.completedSteps.includes("tour"),action:n,actionLabel:"Start tour"}],[t,a,s,o,n,e.state.completedSteps]);return(0,c.jsx)("div",{className:"mx-3 my-3 rounded-lg border border-[var(--vscode-panel-border)] bg-[var(--vscode-editor-background)] shadow-sm",children:(0,c.jsxs)("div",{className:"p-4 space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(l.Sparkles,{className:"h-4 w-4 text-[var(--vscode-button-background)]"}),(0,c.jsx)("h2",{className:"text-[13px] font-semibold text-[var(--vscode-editor-foreground)]",children:"Getting started"})]}),(0,c.jsx)("p",{className:"text-[12px] text-[var(--vscode-descriptionForeground)]",children:"Complete these steps to unlock your memory workspace."})]}),(0,c.jsxs)("div",{className:"text-[11px] font-medium text-[var(--vscode-descriptionForeground)]",children:[e.completedCount,"/",e.totalCount," done"]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)("div",{className:"relative overflow-hidden rounded-md border border-[var(--vscode-panel-border)] bg-[var(--vscode-editor-background)]",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[var(--vscode-button-background)]/20 via-transparent to-[var(--vscode-button-background)]/20 animate-pulse"}),(0,c.jsxs)("div",{className:"relative z-10 p-3",children:[(0,c.jsx)("p",{className:"text-[11px] font-medium text-[var(--vscode-editor-foreground)]",children:"Quick preview"}),(0,c.jsx)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)]",children:"Capture context, search instantly, and attach memories to chat."})]})]}),(0,c.jsx)("div",{className:"h-1.5 w-full rounded-full bg-[var(--vscode-editorGroup-border)]",children:(0,c.jsx)("div",{className:"h-1.5 rounded-full bg-[var(--vscode-button-background)] transition-all",style:{width:`${x}%`}})}),(0,c.jsxs)("div",{className:"flex items-center justify-between text-[11px] text-[var(--vscode-descriptionForeground)]",children:[(0,c.jsx)("span",{children:"Progress"}),(0,c.jsxs)("span",{children:[x,"%"]})]})]}),(0,c.jsxs)("div",{className:"rounded-md border border-[var(--vscode-panel-border)] bg-[var(--vscode-textBlockQuote-background)] p-3",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsx)("p",{className:"text-[12px] font-medium text-[var(--vscode-editor-foreground)]",children:"Authentication guide"}),(0,c.jsx)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)]",children:"Choose OAuth for one-click sign in or paste a scoped API key."})]}),(0,c.jsx)(p.default,{variant:"secondary",className:"text-[10px]",children:"Secure"})]}),(0,c.jsxs)("div",{className:"mt-3 flex flex-col gap-2",children:[(0,c.jsx)(u.default,{className:"w-full vscode-button",onClick:()=>s("oauth"),disabled:r||t,"aria-busy":r,children:(0,c.jsxs)("span",{className:"flex items-center gap-2",children:[(0,c.jsx)(l.Globe,{className:"h-3.5 w-3.5"}),t?"Connected":r?"Connecting…":"Connect in Browser",(0,c.jsx)(p.default,{variant:"outline",className:"ml-auto text-[9px]",children:"Recommended"})]})}),(0,c.jsx)(u.default,{className:"w-full vscode-button vscode-button-secondary",onClick:()=>s("apikey"),disabled:r||t,"aria-busy":r,children:(0,c.jsxs)("span",{className:"flex items-center gap-2",children:[(0,c.jsx)(l.KeyRound,{className:"h-3.5 w-3.5"}),t?"Connected":r?"Validating…":"Enter API Key",(0,c.jsx)(p.default,{variant:"outline",className:"ml-auto text-[9px]",children:"Manual"})]})}),(0,c.jsx)("a",{className:"block text-[11px] text-[#4FA3FF] hover:underline text-center",href:"https://docs.lanonasis.com/api-keys",target:"_blank",rel:"noreferrer noopener",children:"Get API Key (docs)"}),t&&(0,c.jsx)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)] text-center",children:"Connected. Next, create a sample memory to get started."})]})]}),(0,c.jsx)(m.Separator,{className:"bg-[var(--vscode-panel-border)]"}),(0,c.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,c.jsxs)("div",{className:(0,v.cn)("flex items-start gap-3 rounded-md border px-3 py-2",e.completed?"border-transparent bg-[var(--vscode-inputValidation-infoBackground)]/40":"border-[var(--vscode-panel-border)]"),children:[(0,c.jsx)("div",{className:"mt-0.5",children:e.completed?(0,c.jsx)(l.CheckCircle2,{className:"h-4 w-4 text-[var(--vscode-testing-iconPassed)]"}):"search"===e.id?(0,c.jsx)(l.Search,{className:"h-4 w-4 text-[var(--vscode-button-background)]"}):"create_memory"===e.id?(0,c.jsx)(l.MousePointerClick,{className:"h-4 w-4 text-[var(--vscode-button-background)]"}):"tour"===e.id?(0,c.jsx)(l.Sparkles,{className:"h-4 w-4 text-[var(--vscode-button-background)]"}):(0,c.jsx)(l.KeyRound,{className:"h-4 w-4 text-[var(--vscode-button-background)]"})}),(0,c.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("p",{className:"text-[12px] font-medium text-[var(--vscode-editor-foreground)]",children:e.title}),e.completed&&(0,c.jsx)(p.default,{variant:"outline",className:"text-[9px]",children:"Done"})]}),(0,c.jsx)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)]",children:e.description}),e.action&&!e.completed&&(0,c.jsx)(u.default,{variant:"ghost",size:"sm",className:"mt-2 h-6 text-[11px]",onClick:e.action,children:e.actionLabel})]})]},e.id))}),(0,c.jsxs)("div",{className:"flex items-center justify-between text-[11px] text-[var(--vscode-descriptionForeground)]",children:[(0,c.jsx)("span",{children:"Need a break? You can come back anytime."}),(0,c.jsx)("button",{className:"text-[11px] text-[var(--vscode-textLink-foreground)] hover:underline",onClick:i,children:"Skip for now"})]})]})})}},45926(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.prototypeMemoryToMemory=function(e){const t=e||{};return{id:t.id||`memory-${Date.now()}`,title:t.title||"Untitled Memory",content:t.content||"",date:o(t.date),tags:Array.isArray(t.tags)?t.tags:[],icon:a[t.iconType||""]||s.Terminal,type:t.type||"context",similarityScore:t.similarityScore,status:t.status}};const s=r(72832),a={terminal:s.Terminal,filecode:s.FileCode,hash:s.Hash,calendar:s.Calendar,lightbulb:s.Lightbulb,briefcase:s.Briefcase,user:s.User,settings:s.Settings};function o(e){if(!e)return new Date;if(e instanceof Date)return isNaN(e.getTime())?new Date:e;if("string"==typeof e){const t=new Date(e);return isNaN(t.getTime())?new Date:t}if("number"==typeof e){const t=new Date(e);return isNaN(t.getTime())?new Date:t}return new Date}},57029(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.useAuth=function(){const[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!0),[o,n]=(0,s.useState)(null),i=(0,s.useRef)(!1),c=(0,s.useCallback)((e,t)=>{window.vscode&&window.vscode.postMessage({type:e,data:t})},[]);(0,s.useEffect)(()=>{const e=e=>{const r=e.data;if("authState"===r.type){if(r.data&&"object"==typeof r.data&&"authenticated"in r.data){const e=r.data;t(e.authenticated),n(e.user??null),a(!1),i.current=!0}}else"authLoading"===r.type&&a(Boolean(r.data))};if(window.addEventListener("message",e),!i.current){c("getAuthState");const r=setTimeout(()=>{i.current||(console.warn("[useAuth] Auth state timeout - assuming not authenticated"),t(!1),a(!1),i.current=!0)},1e4);return()=>{window.removeEventListener("message",e),clearTimeout(r)}}return()=>window.removeEventListener("message",e)},[c]);return{isAuthenticated:e,isLoading:r,user:o,login:(0,s.useCallback)(e=>{a(!0),c("authenticate",{mode:e})},[c]),logout:(0,s.useCallback)(()=>{c("logout")},[c])}};const s=r(96540)},57339(e,t,r){var s,a=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=s(e),n=0;n<r.length;n++)"default"!==r[n]&&a(t,e,r[n]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryCard=void 0;const c=r(74848),d=n(r(96540)),l=r(23947),u=r(411),p=r(72832),m=i(r(86103)),v=r(59490),x=r(59050);t.MemoryCard=({memory:e,onAttach:t,onCopy:r,onOpen:s,onDelete:a,onEdit:o,highlightQuery:n,showRelevance:i=!1,typeLabel:h})=>{const[g,f]=(0,d.useState)(!1),[b,y]=(0,d.useState)(!1),[j,N]=(0,d.useState)(!1),[w,k]=(0,d.useState)(!1),[C,M]=(0,d.useState)(!1),[S,_]=(0,d.useState)(e.title),[O,D]=(0,d.useState)(e.content),[P,F]=(0,d.useState)(e.tags.join(", ")),B=Boolean(s);(0,d.useEffect)(()=>{C||(_(e.title),D(e.content),F(e.tags.join(", ")))},[e.content,e.tags,e.title,C]);const E=(0,d.useCallback)(t=>{t.stopPropagation(),r?r(e):navigator.clipboard.writeText(e.content),y(!0),setTimeout(()=>y(!1),2e3)},[e,r]),L=(0,d.useCallback)(r=>{r.stopPropagation(),t&&(t(e),N(!0),setTimeout(()=>N(!1),1500))},[e,t]),A=(0,d.useCallback)(t=>{t.stopPropagation(),s&&!C&&s(e)},[C,e,s]),T=(0,d.useCallback)(t=>{t.stopPropagation(),a&&a(e)},[e,a]),z=(0,d.useCallback)(e=>{e.stopPropagation(),k(e=>!e)},[]),I=(0,d.useCallback)(e=>{e.stopPropagation(),o&&(M(!0),k(!0))},[o]),R=(0,d.useCallback)(t=>{t.stopPropagation(),M(!1),_(e.title),D(e.content),F(e.tags.join(", "))},[e.content,e.tags,e.title]),H=(0,d.useCallback)(t=>{if(t.stopPropagation(),!o)return;const r=P.split(",").map(e=>e.trim()).filter(Boolean),s={};S.trim()&&S!==e.title&&(s.title=S.trim()),O.trim()!==e.content&&(s.content=O.trim()),r.join(",")!==e.tags.join(",")&&(s.tags=r),Object.keys(s).length>0&&o(e,s),M(!1)},[O,P,S,e,o]),$=(0,d.useCallback)(t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),s&&!C&&s(e))},[C,e,s]),K=e.icon,U=(0,d.useMemo)(()=>{try{const t=e.date instanceof Date?e.date:new Date(e.date);return(0,u.isValid)(t)?(0,u.format)(t,"MMM d"):"Unknown"}catch(e){return console.warn("[MemoryCard] Date formatting failed:",e),"Unknown"}},[e.date]),q=(0,d.useMemo)(()=>{if(h)return h;const t=e.type.trim();return t?t[0].toUpperCase()+t.slice(1):"Memory"},[e.type,h]),Q=(0,d.useMemo)(()=>{if(!e.status||"active"===e.status)return null;const t=e.status.trim();return t?t[0].toUpperCase()+t.slice(1):null},[e.status]),V=(0,d.useCallback)((e,t,r)=>{const s=e.toLowerCase(),a=[];let o=0,n=s.indexOf(t,o),i=0;for(;-1!==n;)n>o&&a.push(e.slice(o,n)),a.push((0,c.jsx)("mark",{className:"rounded-sm bg-[var(--vscode-editor-findMatchHighlightBackground)] px-0.5 text-[var(--vscode-editor-findMatchHighlightForeground)]",children:e.slice(n,n+t.length)},`${r}-${i}`)),i+=1,o=n+t.length,n=s.indexOf(t,o);return o<e.length&&a.push(e.slice(o)),a},[]),G=(0,d.useCallback)((e,t,r)=>{if(!t)return e.length>r?`${e.slice(0,r)}...`:e;const s=e.toLowerCase().indexOf(t);if(-1===s)return e.length>r?`${e.slice(0,r)}...`:e;const a=Math.floor((r-t.length)/2),o=Math.max(0,s-a),n=Math.min(e.length,o+r),i=o>0?"...":"",c=n<e.length?"...":"";return`${i}${e.slice(o,n)}${c}`},[]),W=(0,d.useMemo)(()=>{if(!n||n.trim().length<2)return e.title;const t=n.trim().toLowerCase();return V(e.title,t,"title")},[n,V,e.title]),J=(0,d.useMemo)(()=>{const t=n?.trim().toLowerCase()||"",r=G(e.content,t,140);return!t||t.length<2?r:V(r,t,"preview")},[G,n,V,e.content]),X=(0,d.useMemo)(()=>{if(!n||n.trim().length<2)return e.content;const t=n.trim().toLowerCase();return V(e.content,t,"content")},[n,V,e.content]);return(0,c.jsxs)(l.motion.div,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},className:(0,x.cn)("group relative flex flex-col gap-1.5 rounded-sm p-2 hover:bg-[var(--vscode-list-hoverBackground)] transition-colors duration-100 cursor-pointer border border-transparent hover:border-[var(--vscode-focusBorder)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--vscode-focusBorder)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--vscode-sideBar-background)]"),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:A,onKeyDown:$,"data-testid":`memory-card-${e.id}`,role:B&&!C?"button":"group",tabIndex:B&&!C?0:-1,"aria-label":B&&!C?`Open memory ${e.title}`:void 0,children:[(0,c.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[K&&(0,c.jsx)(K,{className:"h-3.5 w-3.5 text-[var(--vscode-editor-foreground)] opacity-70 shrink-0"}),(0,c.jsx)("h3",{className:"text-[13px] text-[var(--vscode-editor-foreground)] leading-tight line-clamp-1 flex-1",children:W})]}),(0,c.jsxs)("div",{className:(0,x.cn)("flex items-center gap-0.5 transition-opacity",g||C?"opacity-100":"opacity-0"),children:[e.content&&(0,c.jsx)(m.default,{variant:"ghost",size:"icon",className:"h-5 w-5 text-[var(--vscode-editor-foreground)] hover:bg-[var(--vscode-button-secondaryHoverBackground)] shrink-0 rounded-sm",onClick:z,title:w?"Collapse":"Expand","aria-label":w?"Collapse content":"Expand content",children:w?(0,c.jsx)(p.ChevronUp,{className:"h-3 w-3"}):(0,c.jsx)(p.ChevronDown,{className:"h-3 w-3"})}),t&&(0,c.jsx)(m.default,{variant:"ghost",size:"icon",className:"h-5 w-5 text-[var(--vscode-editor-foreground)] hover:bg-[var(--vscode-button-secondaryHoverBackground)] shrink-0 rounded-sm",onClick:L,title:"Attach to chat context","aria-label":"Attach to chat context","data-testid":"btn-attach-memory",children:j?(0,c.jsx)(p.Check,{className:"h-3 w-3 text-green-400"}):(0,c.jsx)(p.Paperclip,{className:"h-3 w-3"})}),(0,c.jsx)(m.default,{variant:"ghost",size:"icon",className:"h-5 w-5 text-[var(--vscode-editor-foreground)] hover:bg-[var(--vscode-button-secondaryHoverBackground)] shrink-0 rounded-sm",onClick:E,title:"Copy content","aria-label":"Copy memory content","data-testid":"btn-copy-memory",children:b?(0,c.jsx)(p.Check,{className:"h-3 w-3 text-green-400"}):(0,c.jsx)(p.Copy,{className:"h-3 w-3"})}),o&&!C&&(0,c.jsx)(m.default,{variant:"ghost",size:"icon",className:"h-5 w-5 text-[var(--vscode-editor-foreground)] hover:bg-[var(--vscode-button-secondaryHoverBackground)] shrink-0 rounded-sm",onClick:I,title:"Edit memory","aria-label":"Edit memory","data-testid":"btn-edit-memory",children:(0,c.jsx)(p.Pencil,{className:"h-3 w-3"})}),a&&(0,c.jsx)(m.default,{variant:"ghost",size:"icon",className:"h-5 w-5 text-[var(--vscode-errorForeground)] hover:bg-[var(--vscode-button-secondaryHoverBackground)] shrink-0 rounded-sm",onClick:T,title:"Delete memory","aria-label":"Delete memory","data-testid":"btn-delete-memory",children:(0,c.jsx)(p.Trash2,{className:"h-3 w-3"})}),(0,c.jsxs)(v.DropdownMenu,{children:[(0,c.jsx)(v.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsx)(m.default,{variant:"ghost",size:"icon",className:"h-5 w-5 text-[var(--vscode-editor-foreground)] hover:bg-[var(--vscode-button-secondaryHoverBackground)] shrink-0 rounded-sm",onClick:e=>e.stopPropagation(),"data-testid":"btn-memory-more","aria-label":"More actions",children:(0,c.jsx)(p.MoreHorizontal,{className:"h-3 w-3"})})}),(0,c.jsxs)(v.DropdownMenuContent,{align:"end",className:"bg-[var(--vscode-menu-background)] border-[var(--vscode-panel-border)] text-[var(--vscode-menu-foreground)] min-w-[140px] p-1",children:[s&&(0,c.jsxs)(v.DropdownMenuItem,{className:"text-[12px] hover:bg-[var(--vscode-menu-selectionBackground)] hover:text-[var(--vscode-menu-selectionForeground)] cursor-pointer rounded-sm px-2 py-1",onClick:A,children:[(0,c.jsx)(p.ExternalLink,{className:"mr-2 h-3 w-3 opacity-70"}),"Open"]}),(0,c.jsxs)(v.DropdownMenuItem,{className:"text-[12px] hover:bg-[var(--vscode-menu-selectionBackground)] hover:text-[var(--vscode-menu-selectionForeground)] cursor-pointer rounded-sm px-2 py-1",onClick:E,children:[(0,c.jsx)(p.Copy,{className:"mr-2 h-3 w-3 opacity-70"}),"Copy"]}),t&&(0,c.jsxs)(v.DropdownMenuItem,{className:"text-[12px] hover:bg-[var(--vscode-menu-selectionBackground)] hover:text-[var(--vscode-menu-selectionForeground)] cursor-pointer rounded-sm px-2 py-1",onClick:L,children:[(0,c.jsx)(p.Paperclip,{className:"mr-2 h-3 w-3 opacity-70"}),"Add to context"]})]})]})]})]}),C?(0,c.jsxs)("div",{className:"pl-5.5 pr-1 space-y-2",children:[(0,c.jsx)("input",{className:"w-full rounded-sm border border-[var(--vscode-input-border)] bg-[var(--vscode-input-background)] px-2 py-1 text-[12px] text-[var(--vscode-input-foreground)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--vscode-focusBorder)]",value:S,onChange:e=>_(e.target.value),"aria-label":"Edit memory title"}),(0,c.jsx)("textarea",{className:"w-full min-h-[80px] rounded-sm border border-[var(--vscode-input-border)] bg-[var(--vscode-input-background)] px-2 py-1 text-[12px] text-[var(--vscode-input-foreground)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--vscode-focusBorder)]",value:O,onChange:e=>D(e.target.value),"aria-label":"Edit memory content"}),(0,c.jsx)("input",{className:"w-full rounded-sm border border-[var(--vscode-input-border)] bg-[var(--vscode-input-background)] px-2 py-1 text-[11px] text-[var(--vscode-input-foreground)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--vscode-focusBorder)]",value:P,onChange:e=>F(e.target.value),"aria-label":"Edit memory tags",placeholder:"tags, comma, separated"}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsxs)(m.default,{variant:"ghost",size:"sm",className:"h-6",onClick:H,children:[(0,c.jsx)(p.Save,{className:"mr-1 h-3 w-3"}),"Save"]}),(0,c.jsxs)(m.default,{variant:"ghost",size:"sm",className:"h-6",onClick:R,children:[(0,c.jsx)(p.X,{className:"mr-1 h-3 w-3"}),"Cancel"]})]})]}):e.content&&(0,c.jsx)("div",{className:(0,x.cn)("text-[11px] text-[var(--vscode-descriptionForeground)] pl-5.5 opacity-80",w?"whitespace-pre-wrap":"line-clamp-2"),children:w?X:J}),(0,c.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-[var(--vscode-descriptionForeground)] pl-5.5",children:[(0,c.jsx)("span",{className:"inline-flex items-center rounded-full bg-[var(--lanonasis-accent-soft)] px-2 py-0.5 text-[10px] text-[var(--lanonasis-accent-foreground)]",children:q}),Q&&(0,c.jsx)("span",{className:"inline-flex items-center rounded-full bg-[var(--vscode-badge-background)]/30 px-2 py-0.5 text-[10px] text-[var(--vscode-badge-foreground)]",children:Q}),(0,c.jsx)("div",{className:"flex items-center gap-1 opacity-60",children:(0,c.jsx)("span",{"data-testid":"text-memory-date",children:U})}),i&&"number"==typeof e.similarityScore&&(0,c.jsxs)("div",{className:"flex items-center gap-1 opacity-70",children:[(0,c.jsx)("span",{children:"Match"}),(0,c.jsxs)("span",{children:[Math.round(100*e.similarityScore),"%"]})]}),e.tags.slice(0,3).map(e=>(0,c.jsxs)("div",{className:"flex items-center gap-0.5 px-1 rounded bg-[var(--vscode-badge-background)]/10 text-[var(--vscode-editor-foreground)] opacity-60","data-testid":`tag-${e}`,children:[(0,c.jsx)(p.Hash,{className:"h-2.5 w-2.5"}),(0,c.jsx)("span",{children:e})]},e)),e.tags.length>3&&(0,c.jsxs)("span",{className:"opacity-50",children:["+",e.tags.length-3]})]})]})}},59050(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.cn=function(...e){return e.filter(Boolean).join(" ")}},59490(e,t,r){var s,a=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=s(e),n=0;n<r.length;n++)"default"!==r[n]&&a(t,e,r[n]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownMenuItem=t.DropdownMenuSeparator=t.DropdownMenuLabel=t.DropdownMenuContent=t.DropdownMenuTrigger=t.DropdownMenu=void 0;const i=r(74848),c=n(r(96540)),d=r(59050),l=c.default.createContext(void 0);t.DropdownMenu=({children:e})=>{const[t,r]=(0,c.useState)(!1);return(0,i.jsx)(l.Provider,{value:{open:t,setOpen:r},children:(0,i.jsx)("div",{className:"relative",children:e})})},t.DropdownMenuTrigger=({asChild:e,children:t})=>{const r=c.default.useContext(l);return e&&c.default.isValidElement(t)?c.default.cloneElement(t,{onClick:()=>r?.setOpen(!r.open)}):(0,i.jsx)("button",{onClick:()=>r?.setOpen(!r.open),children:t})},t.DropdownMenuContent=({align:e="start",className:t,children:r,...s})=>{const a=c.default.useContext(l),o=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(!a?.open||!o.current)return;const e=e=>{o.current&&!o.current.contains(e.target)&&a.setOpen(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a?.open]),a?.open?(0,i.jsx)("div",{ref:o,className:(0,d.cn)("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border border-[var(--vscode-panel-border)] bg-[var(--vscode-menu-background)] text-[var(--vscode-menu-foreground)] shadow-md","end"===e&&"right-0",t),...s,children:r}):null},t.DropdownMenuLabel=({className:e,...t})=>(0,i.jsx)("div",{className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",e),...t}),t.DropdownMenuSeparator=({className:e,...t})=>(0,i.jsx)("div",{className:(0,d.cn)("my-1 h-px bg-[var(--vscode-panel-border)]",e),...t}),t.DropdownMenuItem=({className:e,children:t,...r})=>(0,i.jsx)("button",{className:(0,d.cn)("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-[var(--vscode-menu-selectionBackground)] hover:text-[var(--vscode-menu-selectionForeground)] focus:bg-[var(--vscode-menu-selectionBackground)] focus:text-[var(--vscode-menu-selectionForeground)] disabled:pointer-events-none disabled:opacity-50",e),...r,children:t})},59966(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.useMemories=function(e=[]){const[t,r]=(0,s.useState)(e),[o,n]=(0,s.useState)(""),[i,c]=(0,s.useState)(!0),[d,l]=(0,s.useState)(null),u=(0,s.useRef)(!1),p=(0,s.useCallback)((e,t)=>{window.vscode&&window.vscode.postMessage({type:e,data:t})},[]),m=(0,s.useCallback)(()=>{l(null),c(!0),p("getMemories")},[p]);(0,s.useEffect)(()=>{const e=e=>{const t=e.data;if("memories"===t.type){if(Array.isArray(t.data))try{const e=t.data.map(a.prototypeMemoryToMemory);r(e),l(null)}catch(e){console.error("[useMemories] Failed to convert memories:",e),r([])}else r([]);c(!1),u.current=!0}else"loading"===t.type?c("boolean"!=typeof t.data||t.data):"error"===t.type&&(l("string"==typeof t.data?t.data:"An error occurred"),c(!1),u.current=!0)};if(window.addEventListener("message",e),!u.current){p("getMemories");const t=setTimeout(()=>{u.current||(console.warn("[useMemories] Initial load timeout - no response from extension"),c(!1),l("Failed to connect to memory service"),u.current=!0)},15e3);return()=>{window.removeEventListener("message",e),clearTimeout(t)}}return()=>window.removeEventListener("message",e)},[p]),(0,s.useEffect)(()=>{if(!o.trim())return void(u.current&&p("getMemories"));const e=setTimeout(()=>{o.trim().length>=2&&(c(!0),l(null),p("searchMemories",o.trim()))},300);return()=>clearTimeout(e)},[o,p]);const v=(0,s.useMemo)(()=>(o.trim(),t),[t,o]);return{memories:t,searchQuery:o,setSearchQuery:n,filteredMemories:v,isLoading:i,error:d,refresh:m}};const s=r(96540),a=r(45926)},61050(e,t,r){var s,a=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=s(e),n=0;n<r.length;n++)"default"!==r[n]&&a(t,e,r[n]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualSectionList=void 0;const i=r(74848),c=n(r(96540)),d=(e,t)=>{let r=0,s=e.length-1,a=0;for(;r<=s;){const o=Math.floor((r+s)/2);e[o]<=t?(a=o,r=o+1):s=o-1}return a};t.VirtualSectionList=({items:e,maxHeight:t=420,overscan:r=6,className:s})=>{const a=(0,c.useRef)(null),[o,n]=(0,c.useState)(0),[l,u]=(0,c.useState)(t);(0,c.useLayoutEffect)(()=>{const e=a.current;if(!e)return;const r=()=>u(e.clientHeight||t);r();const s=new ResizeObserver(r);return s.observe(e),()=>s.disconnect()},[t]);const{offsets:p,totalHeight:m}=(0,c.useMemo)(()=>{const t=[];let r=0;return e.forEach(e=>{t.push(r),r+=e.height}),{offsets:t,totalHeight:r}},[e]),v=(0,c.useMemo)(()=>0===e.length?{start:0,end:-1}:{start:Math.max(0,d(p,o)-r),end:Math.min(e.length-1,d(p,o+l)+r)},[e.length,p,r,o,l]);return(0,i.jsx)("div",{ref:a,className:s,style:{maxHeight:t,overflowY:"auto"},onScroll:e=>n(e.currentTarget.scrollTop),children:(0,i.jsx)("div",{style:{height:m,position:"relative"},children:e.slice(v.start,v.end+1).map((e,t)=>{const r=v.start+t;return(0,i.jsx)("div",{style:{position:"absolute",top:p[r],left:0,right:0},children:e.content},e.key)})})})}},61944(e,t,r){var s,a=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=s(e),n=0;n<r.length;n++)"default"!==r[n]&&a(t,e,r[n]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApiKeyManager=void 0;const c=r(74848),d=n(r(96540)),l=r(72832),u=i(r(86103)),p=r(86791),m=i(r(19582)),v=r(85723);t.ApiKeyManager=({isOpen:e,onClose:t})=>{const[r,s]=(0,d.useState)(""),[a,o]=(0,d.useState)([]),[n,i]=(0,d.useState)(!1),[x,h]=(0,d.useState)(null),g=(e,t)=>{window.vscode&&window.vscode.postMessage({type:e,data:t})};return d.default.useEffect(()=>{if(!e)return;h(null);const t=e=>{const t=e.data;"apiKeys"===t.type?(t.data&&(Array.isArray(t.data)?o(t.data):t.data.data&&Array.isArray(t.data.data)&&o(t.data.data)),i(!1)):"apiKeyCreated"===t.type?(g("getApiKeys"),s(""),i(!1)):"apiKeyDeleted"===t.type?(g("getApiKeys"),i(!1)):"apiKeyError"===t.type&&(i(!1),h("string"==typeof t.data?t.data:"API key action failed."))};return window.addEventListener("message",t),i(!0),g("getApiKeys"),()=>window.removeEventListener("message",t)},[e]),(0,c.jsx)(v.Dialog,{open:e,onOpenChange:t,children:(0,c.jsxs)(v.DialogContent,{className:"bg-[var(--vscode-editor-background)] border-[var(--vscode-panel-border)] text-[var(--vscode-editor-foreground)] max-w-md gap-0 p-0 overflow-hidden shadow-2xl",children:[(0,c.jsx)(v.DialogHeader,{className:"p-4 border-b border-[var(--vscode-panel-border)] bg-[var(--vscode-sideBarSectionHeader-background)]",children:(0,c.jsxs)(v.DialogTitle,{className:"text-[13px] font-semibold flex items-center gap-2",children:[(0,c.jsx)(l.Key,{className:"h-4 w-4 text-[var(--vscode-button-background)]"}),"Manage Scoped API Keys"]})}),(0,c.jsxs)("div",{className:"space-y-4 p-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("label",{className:"text-[11px] font-medium text-[var(--vscode-descriptionForeground)] uppercase",children:"Create New Key"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(p.Input,{placeholder:"Key Name (e.g., CI/CD Pipeline)",className:"vscode-input h-7 text-[13px]",value:r,onChange:e=>s(e.target.value),"data-testid":"input-key-name"}),(0,c.jsx)(u.default,{size:"sm",className:"vscode-button h-7",onClick:()=>{r.trim()&&(h(null),i(!0),g("createApiKey",{name:r.trim()}))},disabled:!r.trim()||n,"data-testid":"btn-generate-key",children:n?"Creating...":"Generate"}),(0,c.jsxs)(u.default,{size:"sm",variant:"secondary",className:"vscode-button vscode-button-secondary h-7",onClick:()=>{h(null),g("storeApiKey")},disabled:n,"data-testid":"btn-store-key",children:[(0,c.jsx)(l.ShieldCheck,{className:"h-3.5 w-3.5 mr-1"}),"Store"]})]})]}),x&&(0,c.jsx)("div",{className:"text-[12px] text-red-400 bg-red-500/10 border border-red-500/40 rounded px-3 py-2",children:x}),(0,c.jsx)("div",{className:"h-px bg-[var(--vscode-panel-border)] w-full"}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("label",{className:"text-[11px] font-medium text-[var(--vscode-descriptionForeground)] uppercase",children:"Active Keys"}),n&&(0,c.jsxs)("div",{className:"flex items-center gap-2 text-[13px] text-[var(--vscode-descriptionForeground)]",children:[(0,c.jsx)("div",{className:"h-4 w-4 border-2 border-[var(--vscode-button-background)] border-t-transparent rounded-full animate-spin"}),(0,c.jsx)("span",{children:"Loading API keys…"})]}),!n&&0===a.length&&(0,c.jsx)("div",{className:"text-center py-4 text-[13px] text-[var(--vscode-descriptionForeground)] opacity-70",children:"No API keys found. Create one to get started."}),!n&&a.length>0&&a.map(e=>(0,c.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-sm hover:bg-[var(--vscode-list-hoverBackground)] border border-transparent hover:border-[var(--vscode-focusBorder)] group","data-testid":`key-item-${e.id}`,children:[(0,c.jsxs)("div",{className:"space-y-0.5",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-[13px] font-medium",children:e.name}),(0,c.jsx)(m.default,{variant:"outline",className:"text-[10px] border-[var(--vscode-panel-border)] text-[var(--vscode-descriptionForeground)] h-4 px-1 font-normal",children:e.scope})]}),(0,c.jsxs)("p",{className:"text-[11px] text-[var(--vscode-descriptionForeground)] opacity-70",children:["Last used: ",e.lastUsed]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,c.jsx)(u.default,{variant:"ghost",size:"icon",className:"h-6 w-6 text-[var(--vscode-descriptionForeground)] hover:text-[var(--vscode-editor-foreground)]","data-testid":`btn-key-menu-${e.id}`,children:(0,c.jsx)(l.Briefcase,{className:"h-3.5 w-3.5"})}),(0,c.jsx)(u.default,{variant:"ghost",size:"icon",className:"h-6 w-6 text-[var(--vscode-descriptionForeground)] hover:text-red-400",onClick:()=>{var t;(t=e.id)&&(h(null),i(!0),g("deleteApiKey",t))},"data-testid":`btn-key-delete-${e.id}`,children:(0,c.jsx)(l.Trash2,{className:"h-3.5 w-3.5"})})]})]},e.id))]})]}),(0,c.jsx)(v.DialogFooter,{className:"p-2 border-t border-[var(--vscode-panel-border)] bg-[var(--vscode-sideBar-background)]",children:(0,c.jsx)(u.default,{variant:"secondary",size:"sm",onClick:t,className:"vscode-button vscode-button-secondary h-6 text-[12px]","data-testid":"btn-close-keys",children:"Close"})})]})})}},63054(e,t,r){var s,a=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(s=function(e){return s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},s(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=s(e),n=0;n<r.length;n++)"default"!==r[n]&&a(t,e,r[n]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IDEPanel=void 0;const c=r(74848),d=n(r(96540)),l=r(72832),u=r(10140),p=i(r(86103)),m=r(59490),v=r(27027),x=r(85723),h=r(86791),g=r(59050),f=r(57029),b=r(59966),y=r(80264),j=r(57339),N=r(11561),w=r(21693),k=r(61944),C=r(21561),M=r(43033),S=r(10836),_=r(61050),O=e=>{if(!e)return"U";const t=e.trim();if(!t)return"U";const r=t.split(/\s+/).filter(Boolean);if(1===r.length){const e=r[0];return(e.includes("@")?e.split("@")[0]:e).slice(0,2).toUpperCase()}return(r[0][0]+r[r.length-1][0]).toUpperCase()};t.IDEPanel=()=>{const{isAuthenticated:e,isLoading:t,user:r,login:s,logout:a}=(0,f.useAuth)(),{status:o,isLoading:n,completeStep:i,skipOnboarding:D,resetOnboarding:P}=(0,y.useOnboarding)(),{memories:F,searchQuery:B,setSearchQuery:E,filteredMemories:L,isLoading:A,error:T,refresh:z}=(0,b.useMemories)(),{messages:I,addMessage:R,clearHistory:H}=function(){const[e,t]=(0,d.useState)(()=>{try{const e=localStorage.getItem("lanonasis-chat-history");return e?JSON.parse(e):[]}catch{return[]}});(0,d.useEffect)(()=>{try{localStorage.setItem("lanonasis-chat-history",JSON.stringify(e.slice(-50)))}catch(e){console.error("[ChatHistory] Failed to persist:",e)}},[e]);const r=(0,d.useCallback)((e,r,s)=>{const a={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,role:e,content:r,timestamp:Date.now(),attachedMemories:s};return t(e=>[...e,a]),a},[]),s=(0,d.useCallback)(()=>{t([]),localStorage.removeItem("lanonasis-chat-history")},[]);return{messages:e,addMessage:r,clearHistory:s}}(),{attachedMemories:$,attachMemory:K,removeMemory:U,clearContext:q}=function(){const[e,t]=(0,d.useState)([]);return{attachedMemories:e,attachMemory:(0,d.useCallback)(e=>{t(t=>t.some(t=>t.id===e.id)?t:[...t,e])},[]),removeMemory:(0,d.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),clearContext:(0,d.useCallback)(()=>{t([])},[])}}(),[Q,V]=(0,d.useState)(""),[G,W]=(0,d.useState)(!1),[J,X]=(0,d.useState)(!1),[Y,Z]=(0,d.useState)(!0),[ee,te]=(0,d.useState)(!0),[re,se]=(0,d.useState)(null),[ae,oe]=(0,d.useState)(!1),[ne,ie]=(0,d.useState)([]),[ce,de]=(0,d.useState)([]),[le,ue]=(0,d.useState)(""),[pe,me]=(0,d.useState)("all"),[ve,xe]=(0,d.useState)({start:"",end:""}),[he,ge]=(0,d.useState)(()=>{try{const e=localStorage.getItem("lanonasis-recent-searches");return e?JSON.parse(e):[]}catch{return[]}}),[fe,be]=(0,d.useState)(()=>{try{const e=localStorage.getItem("lanonasis-saved-searches");return e?JSON.parse(e):[]}catch{return[]}}),[ye,je]=(0,d.useState)(null),[Ne,we]=(0,d.useState)({typeOrder:[],hiddenTypes:[],theme:"default"}),[ke,Ce]=(0,d.useState)(!1),[Me,Se]=(0,d.useState)({}),[_e,Oe]=(0,d.useState)(null),[De,Pe]=(0,d.useState)(()=>navigator.onLine),Fe=B.trim(),Be=r?.name||r?.email||null,Ee=r?.name&&r?.email?r.email:null,Le=Boolean(o?.shouldShow),Ae=(0,d.useRef)(null),Te=(0,d.useRef)(null);(0,d.useEffect)(()=>{Ae.current&&(Ae.current.scrollTop=Ae.current.scrollHeight)},[I,G]);const ze=(0,d.useCallback)((e,t)=>{window.vscode&&window.vscode.postMessage({type:e,data:t})},[]);(0,d.useEffect)(()=>{try{localStorage.setItem("lanonasis-recent-searches",JSON.stringify(he))}catch{}},[he]),(0,d.useEffect)(()=>{try{localStorage.setItem("lanonasis-saved-searches",JSON.stringify(fe))}catch{}},[fe]),(0,d.useEffect)(()=>{const e=()=>Pe(!0),t=()=>Pe(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),(0,d.useEffect)(()=>{ze("getSidebarPreferences"),ze("getConnectionStatus")},[ze]);const Ie=(0,d.useCallback)(t=>{if(!t.trim()||!e)return;const r=$.map(e=>({id:e.id,title:e.title}));R("user",t,r.length>0?r:void 0),W(!0),ze("chatQuery",{query:t,attachedMemories:$.map(e=>({id:e.id,title:e.title,content:e.content}))}),V(""),q()},[e,$,R,ze,q]),Re=(0,d.useCallback)(()=>{ze("pasteFromClipboard")},[ze]),He=(0,d.useCallback)(()=>{ze("executeCommand","lanonasis.quickCapture")},[ze]),$e=(0,d.useCallback)(()=>{ze("executeCommand","lanonasis.createSampleMemory")},[ze]),Ke=(0,d.useCallback)(()=>{ze("executeCommand","lanonasis.searchMemory")},[ze]),Ue=(0,d.useCallback)(()=>{oe(!0)},[]),qe=(0,d.useCallback)(e=>{we(e),ze("updateSidebarPreferences",e)},[ze]),Qe=(0,d.useCallback)(e=>{ge(t=>{const r=e.trim();return r?[r,...t.filter(e=>e!==r)].slice(0,8):t})},[]),Ve=(0,d.useCallback)(()=>{const e=B.trim();e&&be(t=>t.includes(e)?t:[e,...t].slice(0,12))},[B]),Ge=(0,d.useCallback)(e=>{be(t=>t.filter(t=>t!==e))},[]),We=(0,d.useCallback)(e=>{E(e),Qe(e)},[E,Qe]),Je=(0,d.useCallback)(e=>{Oe(e)},[]),Xe=(0,d.useCallback)(()=>{_e&&(ze("deleteMemory",_e.id),Oe(null))},[_e,ze]),Ye=(0,d.useCallback)(()=>{Oe(null)},[]),Ze=(0,d.useCallback)(e=>{Se(t=>({...t,[e]:!t[e]}))},[]),et=(0,d.useCallback)(e=>{K(e)},[K]),tt=(0,d.useCallback)(e=>{ze("copyToClipboard",e.content)},[ze]),rt=(0,d.useCallback)((e,t)=>{ze("updateMemory",{id:e.id,updates:t})},[ze]);(0,d.useEffect)(()=>{const e=B.trim();if(e.length<2)return;const t=setTimeout(()=>{Qe(e)},600);return()=>clearTimeout(t)},[B,Qe]);const st=(0,d.useMemo)(()=>[{id:"sidebar",title:"Your memory sidebar",description:"Everything you capture and recall lives in this panel.",selector:'[data-tour="sidebar-header"]'},{id:"search",title:"Search memories",description:"Type a question or keyword to pull matching context fast.",selector:'[data-tour="search"]'},{id:"memories",title:"Organized memory list",description:"Browse by type and attach memories to chat.",selector:'[data-tour="memories"]'},{id:"chat",title:"Chat with context",description:"Ask follow-ups and attach memories for better responses.",selector:'[data-tour="chat"]'},{id:"commands",title:"Command palette + tree view",description:"Use Cmd/Ctrl+Shift+P to run Lanonasis commands. Enable tree view in settings for a compact list."}],[]),at=B.trim().length>0,ot=["context","knowledge","project","reference","personal","workflow","conversation"],nt=(0,d.useMemo)(()=>at?L:F,[L,F,at]),it=(0,d.useMemo)(()=>{const e=new Map;return nt.forEach(t=>{e.set(t.type,(e.get(t.type)||0)+1)}),e},[nt]),ct=(0,d.useMemo)(()=>{const e=new Map;return nt.forEach(t=>{t.tags.forEach(t=>{e.set(t,(e.get(t)||0)+1)})}),e},[nt]),dt=(0,d.useMemo)(()=>{const e=Ne.typeOrder.length>0?Ne.typeOrder:ot,t=Array.from(it.keys()),r=[...e,...ot,...t],s=[];return r.forEach(e=>{s.includes(e)||s.push(e)}),s.filter(t=>it.has(t)||e.includes(t))},[Ne.typeOrder,it]),lt=(0,d.useMemo)(()=>dt.filter(e=>!Ne.hiddenTypes.includes(e)),[dt,Ne.hiddenTypes]),ut=(0,d.useMemo)(()=>Array.from(ct.entries()).sort((e,t)=>t[1]-e[1]),[ct]),pt=(0,d.useMemo)(()=>ut.slice(0,8),[ut]),mt=(0,d.useMemo)(()=>{const e=le.trim().toLowerCase();return e?ut.filter(([t])=>t.toLowerCase().includes(e)).slice(0,12):pt},[ut,le,pt]),vt=(0,d.useMemo)(()=>ve.start?new Date(`${ve.start}T00:00:00`):null,[ve.start]),xt=(0,d.useMemo)(()=>ve.end?new Date(`${ve.end}T23:59:59`):null,[ve.end]),ht=(0,d.useMemo)(()=>{const e=L.filter(e=>{if(Ne.hiddenTypes.includes(e.type))return!1;if(ne.length>0&&!ne.includes(e.type))return!1;if(ce.length>0&&!ce.every(t=>e.tags.includes(t)))return!1;const t=e.status??"active";return!("all"!==pe&&t!==pe||vt&&e.date<vt||xt&&e.date>xt)});return at?[...e].sort((e,t)=>{const r="number"==typeof e.similarityScore?e.similarityScore:-1;return("number"==typeof t.similarityScore?t.similarityScore:-1)-r}):e},[ce,ne,xt,vt,L,at,Ne.hiddenTypes,pe]),gt=e=>{de(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},ft=()=>{ie([]),de([]),me("all"),xe({start:"",end:""}),ue("")},bt={context:"Context",knowledge:"Knowledge",project:"Project",reference:"Reference",personal:"Personal",workflow:"Workflow",conversation:"Conversation"},yt=(0,d.useMemo)(()=>{const e=Ne.typeOrder.length>0?Ne.typeOrder:ot,t=Array.from(it.keys()),r=[...e,...ot,...t],s=[];return r.forEach(e=>{s.includes(e)||s.push(e)}),s},[ot,Ne.typeOrder,it]),jt=Boolean(ne.length>0||ce.length>0||"all"!==pe||ve.start||ve.end),Nt=(0,d.useMemo)(()=>ht.reduce((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e),{}),[ht]),wt=ht.length>120,kt=(0,d.useMemo)(()=>{if(!wt)return[];const e=[];return lt.forEach(t=>{const r=Nt[t]||[];if(0===r.length)return;const s=!Me[t];e.push({key:`header-${t}`,height:28,content:(0,c.jsxs)("div",{className:"flex items-center gap-2 px-1 py-1 text-[11px] text-[var(--vscode-sideBarSectionHeader-foreground)] uppercase font-semibold cursor-pointer",onClick:()=>Ze(t),children:[(0,c.jsx)(l.ChevronRight,{className:(0,g.cn)("h-3.5 w-3.5 text-[var(--vscode-icon-foreground)] transition-transform",s&&"rotate-90")}),(0,c.jsx)("span",{children:bt[t]||t}),(0,c.jsx)("span",{className:"ml-auto rounded-full bg-[var(--vscode-badge-background)]/20 px-2 py-0.5 text-[10px] text-[var(--vscode-badge-foreground)] normal-case",children:r.length})]})}),s&&r.forEach(t=>{e.push({key:t.id,height:96,content:(0,c.jsx)(j.MemoryCard,{memory:t,onAttach:et,onCopy:tt,onEdit:rt,onDelete:Je,highlightQuery:B,showRelevance:Boolean(Fe),typeLabel:bt[t.type]||t.type})})})}),e},[Me,Nt,et,tt,Je,rt,B,wt,Fe,Ze,bt,lt]),Ct=(0,d.useCallback)((e,t)=>{const r=[...yt],s=r.indexOf(e);if(-1===s)return;const a="up"===t?s-1:s+1;a<0||a>=r.length||([r[s],r[a]]=[r[a],r[s]],qe({...Ne,typeOrder:r}))},[yt,Ne,qe]),Mt=(0,d.useCallback)(e=>{const t=Ne.hiddenTypes,r=t.includes(e)?t.filter(t=>t!==e):[...t,e];qe({...Ne,hiddenTypes:r})},[Ne,qe]),St=(0,d.useCallback)(e=>{qe({...Ne,theme:e})},[Ne,qe]),_t=(0,d.useMemo)(()=>{const e={default:{accent:"var(--vscode-button-background)",accentForeground:"var(--vscode-button-foreground)",accentSoft:"var(--vscode-button-secondaryBackground)"},sunset:{accent:"#e26d5c",accentForeground:"#1b0e0c",accentSoft:"rgba(226, 109, 92, 0.2)"},ocean:{accent:"#2ec4b6",accentForeground:"#071a17",accentSoft:"rgba(46, 196, 182, 0.2)"},slate:{accent:"#7a8cff",accentForeground:"#0c1021",accentSoft:"rgba(122, 140, 255, 0.2)"}},t=e[Ne.theme]||e.default;return{"--lanonasis-accent":t.accent,"--lanonasis-accent-foreground":t.accentForeground,"--lanonasis-accent-soft":t.accentSoft}},[Ne.theme]),Ot=(0,d.useMemo)(()=>{const e=ye?.queueStatus?.pending??0;return e>0?ye?.queueStatus?.syncing?`Syncing (${e} queued)`:`${e} pending`:A||ye?.cacheStatus?.isRefreshing?"Syncing":ye?.cacheStatus?.lastSyncAt?`Synced ${new Date(ye.cacheStatus.lastSyncAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:"Not synced"},[ye?.cacheStatus?.isRefreshing,ye?.cacheStatus?.lastSyncAt,ye?.queueStatus?.pending,ye?.queueStatus?.syncing,A]),Dt=void 0===ye?.offline?De:!ye.offline,Pt=Fe.length>=2,Ft=Pt&&fe.includes(Fe),Bt=(0,d.useCallback)(()=>{re&&(K({id:`clipboard-${Date.now()}`,title:"Clipboard Content",content:re,date:new Date,tags:["clipboard"],icon:l.Clipboard,type:"context"}),se(null))},[re,K]);(0,d.useEffect)(()=>{const e=e=>{const t=e.data;if("chatResponse"===t.type){const e=t.data?.response||"No response received.";R("assistant",e),W(!1)}else if("chatError"===t.type)R("assistant",`⚠️ Error: ${t.data||"Failed to process query"}`),W(!1);else if("chatLoading"===t.type)W(!0===t.data);else if("clipboardContent"===t.type)se(t.data);else if("connectionStatus"===t.type)je(t.data);else if("sidebarPreferences"===t.type){const e=t.data;we({typeOrder:Array.isArray(e.typeOrder)?e.typeOrder:[],hiddenTypes:Array.isArray(e.hiddenTypes)?e.hiddenTypes:[],theme:e.theme||"default"})}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[R,ze]);const Et=(0,d.useCallback)(()=>{Fe&&ze("createMemory",{title:Fe,content:`Captured from search: ${Fe}`,memory_type:"context",tags:["search"]})},[ze,Fe]);return(0,c.jsxs)("div",{className:"flex h-screen w-full bg-[var(--vscode-sideBar-background)] text-[var(--vscode-sideBar-foreground)] font-sans overflow-hidden justify-center select-none",style:_t,children:[(0,c.jsxs)("div",{className:"w-full max-w-[400px] h-full flex flex-col bg-[var(--vscode-sideBar-background)] relative","data-tour":"sidebar",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between px-4 py-2.5 bg-[var(--vscode-sideBar-background)]","data-tour":"sidebar-header",children:[Be?(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"h-6 w-6 rounded-full bg-[var(--vscode-badge-background)]/30 text-[10px] font-semibold text-[var(--vscode-editor-foreground)] flex items-center justify-center",children:O(Be)}),(0,c.jsxs)("div",{className:"flex flex-col leading-tight",children:[(0,c.jsx)("span",{className:"text-[11px] font-semibold text-[var(--vscode-sideBarTitle-foreground)] max-w-[150px] truncate",children:Be}),Ee&&(0,c.jsx)("span",{className:"text-[10px] text-[var(--vscode-descriptionForeground)] max-w-[150px] truncate",children:Ee})]})]}):(0,c.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wide text-[var(--vscode-sideBarTitle-foreground)]",children:"LanOnasis Memory"}),(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[e?(0,c.jsxs)(m.DropdownMenu,{children:[(0,c.jsx)(m.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsx)(p.default,{variant:"ghost",size:"icon",className:"h-5 w-5 hover:bg-[var(--vscode-list-hoverBackground)] rounded-sm","data-testid":"btn-user-menu","aria-label":"Open account menu",children:(0,c.jsx)(l.Settings,{className:"h-3.5 w-3.5 text-[var(--vscode-icon-foreground)]"})})}),(0,c.jsxs)(m.DropdownMenuContent,{align:"end",className:"bg-[var(--vscode-menu-background)] border-[var(--vscode-panel-border)] text-[var(--vscode-menu-foreground)] min-w-[160px] p-1 gap-0.5 shadow-xl",children:[(0,c.jsx)(m.DropdownMenuLabel,{className:"text-[11px] text-[var(--vscode-descriptionForeground)] px-2 py-1.5 font-normal",children:"My Account"}),(0,c.jsx)(m.DropdownMenuSeparator,{className:"bg-[var(--vscode-panel-border)] my-1"}),(0,c.jsxs)(m.DropdownMenuItem,{className:"text-[13px] hover:bg-[var(--vscode-menu-selectionBackground)] hover:text-[var(--vscode-menu-selectionForeground)] cursor-pointer rounded-sm px-2 py-1.5",onClick:()=>X(!0),"data-testid":"menu-api-keys",children:[(0,c.jsx)(l.Key,{className:"mr-2 h-3.5 w-3.5 opacity-70"}),(0,c.jsx)("span",{children:"API Keys"})]}),(0,c.jsxs)(m.DropdownMenuItem,{className:"text-[13px] hover:bg-[var(--vscode-menu-selectionBackground)] hover:text-[var(--vscode-menu-selectionForeground)] cursor-pointer rounded-sm px-2 py-1.5",onClick:()=>ze("openSettings"),"data-testid":"menu-profile",children:[(0,c.jsx)(l.User,{className:"mr-2 h-3.5 w-3.5 opacity-70"}),(0,c.jsx)("span",{children:"Profile"})]}),(0,c.jsx)(m.DropdownMenuSeparator,{className:"bg-[var(--vscode-panel-border)] my-1"}),(0,c.jsxs)(m.DropdownMenuItem,{className:"text-[13px] hover:bg-[var(--vscode-menu-selectionBackground)] hover:text-[var(--vscode-menu-selectionForeground)] cursor-pointer rounded-sm px-2 py-1.5",onClick:a,"data-testid":"menu-logout",children:[(0,c.jsx)(l.LogOut,{className:"mr-2 h-3.5 w-3.5 opacity-70"}),(0,c.jsx)("span",{children:"Log out"})]}),(0,c.jsx)(m.DropdownMenuSeparator,{className:"bg-[var(--vscode-panel-border)] my-1"}),(0,c.jsxs)(m.DropdownMenuItem,{className:"text-[13px] hover:bg-[var(--vscode-menu-selectionBackground)] hover:text-[var(--vscode-menu-selectionForeground)] cursor-pointer rounded-sm px-2 py-1.5",onClick:P,children:[(0,c.jsx)(l.Sparkles,{className:"mr-2 h-3.5 w-3.5 opacity-70"}),(0,c.jsx)("span",{children:"Restart onboarding"})]})]})]}):(0,c.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-yellow-500"}),(0,c.jsx)(p.default,{variant:"ghost",size:"icon",className:"h-5 w-5 hover:bg-[var(--vscode-list-hoverBackground)] rounded-sm","data-testid":"btn-more","aria-label":"More options",children:(0,c.jsx)(l.MoreHorizontal,{className:"h-3.5 w-3.5 text-[var(--vscode-icon-foreground)]"})})]})]}),(0,c.jsx)("div",{className:"px-4 py-1.5 border-b border-[var(--vscode-panel-border)]",children:(0,c.jsxs)("div",{className:"flex flex-wrap items-center gap-1 text-[10px] text-[var(--vscode-descriptionForeground)]",children:[(0,c.jsx)("span",{className:(0,g.cn)("rounded-full px-2 py-0.5",e?"bg-[var(--vscode-testing-iconPassed)]/15 text-[var(--vscode-testing-iconPassed)]":"bg-[var(--vscode-testing-iconQueued)]/20 text-[var(--vscode-testing-iconQueued)]"),children:e?"Authenticated":"Signed out"}),(0,c.jsx)("span",{className:"rounded-full px-2 py-0.5 bg-[var(--vscode-badge-background)]/20 text-[var(--vscode-badge-foreground)]",children:"cli"===ye?.connectionMode?"CLI mode":"HTTP API"}),(0,c.jsx)("span",{className:"rounded-full px-2 py-0.5 bg-[var(--vscode-badge-background)]/20 text-[var(--vscode-badge-foreground)]",children:Ot}),(0,c.jsx)("span",{className:(0,g.cn)("rounded-full px-2 py-0.5",Dt?"bg-[var(--vscode-testing-iconPassed)]/15 text-[var(--vscode-testing-iconPassed)]":"bg-[var(--vscode-testing-iconFailed)]/15 text-[var(--vscode-testing-iconFailed)]"),children:Dt?"Online":"Offline"})]})}),(0,c.jsx)(u.ScrollArea,{className:"flex-1",ref:Te,children:(0,c.jsxs)("div",{className:"flex flex-col min-h-full",children:[!n&&o&&Le&&(0,c.jsx)(M.OnboardingPanel,{status:o,isAuthenticated:e,isAuthLoading:t,onLogin:s,onCreateSampleMemory:$e,onSearchMemories:Ke,onStartTour:Ue,onSkip:D}),(0,c.jsxs)(v.Collapsible,{open:Y,onOpenChange:Z,children:[(0,c.jsxs)("div",{className:"vscode-section-header group",onClick:()=>Z(!Y),"data-testid":"header-assistant",children:[(0,c.jsx)(l.ChevronRight,{className:(0,g.cn)("h-4 w-4 text-[var(--vscode-icon-foreground)] transition-transform mr-0.5 opacity-80",Y&&"rotate-90")}),(0,c.jsx)("span",{className:"text-[11px] font-bold text-[var(--vscode-sideBarSectionHeader-foreground)] uppercase",children:"Memory Assistant"}),I.length>0&&(0,c.jsx)(p.default,{variant:"ghost",size:"icon",className:"h-4 w-4 ml-auto opacity-0 group-hover:opacity-100 hover:bg-[var(--vscode-list-hoverBackground)] rounded-sm",onClick:e=>{e.stopPropagation(),H()},title:"Clear chat history","aria-label":"Clear chat history",children:(0,c.jsx)(l.Trash2,{className:"h-3 w-3 text-[var(--vscode-icon-foreground)]"})})]}),(0,c.jsx)(v.CollapsibleContent,{children:(0,c.jsx)("div",{className:"flex flex-col",style:{maxHeight:"300px"},children:(0,c.jsx)("div",{ref:Ae,className:"flex-1 overflow-y-auto p-3 space-y-3",children:e?0!==I.length||G?(0,c.jsxs)(c.Fragment,{children:[I.map(e=>(0,c.jsx)("div",{className:(0,g.cn)("flex gap-2","user"===e.role?"justify-end":"justify-start"),children:(0,c.jsxs)("div",{className:(0,g.cn)("max-w-[85%] rounded-lg px-3 py-2 text-[13px]","user"===e.role?"bg-[var(--vscode-button-background)] text-[var(--vscode-button-foreground)]":"bg-[var(--vscode-textCodeBlock-background)] text-[var(--vscode-editor-foreground)]"),children:[e.attachedMemories&&e.attachedMemories.length>0&&(0,c.jsx)("div",{className:"flex flex-wrap gap-1 mb-1",children:e.attachedMemories.map(e=>(0,c.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)]",children:[(0,c.jsx)(l.Paperclip,{className:"h-2.5 w-2.5"}),e.title]},e.id))}),(0,c.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}),(0,c.jsx)("span",{className:"text-[10px] opacity-50 mt-1 block",children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id)),G&&(0,c.jsx)("div",{className:"flex gap-2 justify-start",children:(0,c.jsx)("div",{className:"bg-[var(--vscode-textCodeBlock-background)] rounded-lg px-3 py-2",children:(0,c.jsxs)("div",{className:"flex items-center gap-2 text-[13px] text-[var(--vscode-descriptionForeground)]",children:[(0,c.jsx)("div",{className:"h-3 w-3 border-2 border-[var(--vscode-button-background)] border-t-transparent rounded-full animate-spin"}),(0,c.jsx)("span",{children:"Searching memories..."})]})})})]}):(0,c.jsxs)("div",{className:"text-[13px] text-[var(--vscode-foreground)] flex items-center justify-center text-center italic opacity-90 py-4",children:[(0,c.jsx)(l.Lightbulb,{className:"h-4 w-4 mr-2 text-[var(--vscode-button-background)]"}),"Ask me to recall context or refine prompts."]}):(0,c.jsx)("div",{className:"text-[13px] text-[var(--vscode-foreground)] flex items-center justify-center text-center italic opacity-90 py-4",children:"Please connect to enable AI assistance."})})})})]}),(0,c.jsxs)(v.Collapsible,{open:ee,onOpenChange:te,className:"flex-1 flex flex-col",children:[(0,c.jsxs)("div",{className:"vscode-section-header group",onClick:()=>te(!ee),"data-testid":"header-memories",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(l.ChevronRight,{className:(0,g.cn)("h-4 w-4 text-[var(--vscode-icon-foreground)] transition-transform mr-0.5 opacity-80",ee&&"rotate-90")}),(0,c.jsx)("span",{className:"text-[11px] font-bold text-[var(--vscode-sideBarSectionHeader-foreground)] uppercase",children:"Memories"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,c.jsx)(p.default,{variant:"ghost",size:"icon",className:"h-5 w-5 hover:bg-[var(--vscode-list-hoverBackground)] rounded-sm",onClick:e=>{e.stopPropagation();const t=document.querySelector('[data-testid="input-search"]');t&&t.focus()},"data-testid":"btn-search",title:"Search memories",children:(0,c.jsx)(l.Search,{className:"h-3.5 w-3.5 text-[var(--vscode-icon-foreground)]"})}),(0,c.jsx)(p.default,{variant:"ghost",size:"icon",className:"h-5 w-5 hover:bg-[var(--vscode-list-hoverBackground)] rounded-sm",onClick:e=>{e.stopPropagation(),He()},"data-testid":"btn-quick-capture",title:"Quick capture from selection or clipboard",children:(0,c.jsx)(l.Clipboard,{className:"h-3.5 w-3.5 text-[var(--vscode-icon-foreground)]"})}),(0,c.jsx)(p.default,{variant:"ghost",size:"icon",className:"h-5 w-5 hover:bg-[var(--vscode-list-hoverBackground)] rounded-sm",onClick:e=>{e.stopPropagation(),E(""),z()},"data-testid":"btn-refresh",title:"Refresh memories",children:(0,c.jsx)(l.RefreshCw,{className:"h-3.5 w-3.5 text-[var(--vscode-icon-foreground)]"})}),(0,c.jsx)(p.default,{variant:"ghost",size:"icon",className:"h-5 w-5 hover:bg-[var(--vscode-list-hoverBackground)] rounded-sm",onClick:e=>{e.stopPropagation(),Ce(!0)},"data-testid":"btn-customize",title:"Customize sidebar",children:(0,c.jsx)(l.SlidersHorizontal,{className:"h-3.5 w-3.5 text-[var(--vscode-icon-foreground)]"})})]})]}),(0,c.jsx)(v.CollapsibleContent,{className:"flex-1",children:t?(0,c.jsxs)("div",{className:"p-4 flex flex-col items-center justify-center gap-2",children:[(0,c.jsx)("div",{className:"h-6 w-6 border-2 border-[var(--vscode-button-background)] border-t-transparent rounded-full animate-spin"}),(0,c.jsx)("span",{className:"text-[13px] text-[var(--vscode-descriptionForeground)]",children:"Connecting..."})]}):e?(0,c.jsxs)("div",{className:"p-2 space-y-2",children:[(0,c.jsx)(N.SearchBar,{value:B,onChange:E,disabled:!e}),Pt&&(0,c.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-[var(--vscode-descriptionForeground)]",children:[(0,c.jsx)("span",{children:Ft?"Saved search":"Save this search for quick access"}),(0,c.jsxs)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[10px]",onClick:Ve,disabled:Ft,children:[(0,c.jsx)(l.Bookmark,{className:"mr-1 h-3 w-3"}),Ft?"Saved":"Save"]})]}),!Fe&&(fe.length>0||he.length>0)&&(0,c.jsxs)("div",{className:"space-y-2",children:[fe.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"flex items-center justify-between text-[10px] text-[var(--vscode-descriptionForeground)]",children:(0,c.jsx)("span",{className:"uppercase",children:"Saved searches"})}),(0,c.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:fe.map(e=>(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)("button",{className:"rounded-full bg-[var(--vscode-badge-background)]/20 px-2 py-0.5 text-[10px] text-[var(--vscode-badge-foreground)] hover:bg-[var(--vscode-badge-background)]/40",onClick:()=>We(e),children:e}),(0,c.jsx)("button",{className:"text-[var(--vscode-descriptionForeground)] hover:text-[var(--vscode-errorForeground)]",onClick:()=>Ge(e),"aria-label":`Remove saved search ${e}`,children:(0,c.jsx)(l.X,{className:"h-3 w-3"})})]},e))})]}),he.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"flex items-center justify-between text-[10px] text-[var(--vscode-descriptionForeground)]",children:(0,c.jsx)("span",{className:"uppercase",children:"Recent searches"})}),(0,c.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:he.slice(0,6).map(e=>(0,c.jsx)("button",{className:"rounded-full bg-[var(--vscode-badge-background)]/10 px-2 py-0.5 text-[10px] text-[var(--vscode-descriptionForeground)] hover:bg-[var(--vscode-badge-background)]/30",onClick:()=>We(e),children:e},e))})]})]}),(lt.length>0||pt.length>0)&&(0,c.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,c.jsx)("div",{className:"flex-1 overflow-x-auto",children:(0,c.jsx)("div",{className:"flex gap-1",children:lt.map(e=>(0,c.jsxs)(p.default,{variant:"ghost",size:"sm",className:(0,g.cn)("h-6 px-2 text-[11px] whitespace-nowrap",ne.includes(e)?"bg-[var(--lanonasis-accent)] text-[var(--lanonasis-accent-foreground)]":"text-[var(--vscode-descriptionForeground)] hover:text-[var(--vscode-editor-foreground)]"),onClick:()=>(e=>{ie(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),"aria-pressed":ne.includes(e),children:[bt[e]||e,(0,c.jsx)("span",{className:"ml-1 opacity-60",children:it.get(e)||0})]},e))})}),(0,c.jsxs)(m.DropdownMenu,{children:[(0,c.jsx)(m.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsxs)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[11px] whitespace-nowrap","aria-label":"Filter by tag",children:["Tags ",ce.length>0?`(${ce.length})`:""]})}),(0,c.jsxs)(m.DropdownMenuContent,{align:"end",className:"min-w-[180px] p-1",children:[(0,c.jsx)(m.DropdownMenuLabel,{className:"text-[11px] text-[var(--vscode-descriptionForeground)]",children:"Popular tags"}),(0,c.jsx)(m.DropdownMenuSeparator,{className:"bg-[var(--vscode-panel-border)] my-1"}),(0,c.jsx)("div",{className:"px-2 py-1",children:(0,c.jsx)(h.Input,{value:le,onChange:e=>ue(e.target.value),placeholder:"Filter tags",className:"h-7 text-[11px]","aria-label":"Filter tags"})}),0===mt.length&&(0,c.jsx)("div",{className:"px-2 py-1 text-[11px] text-[var(--vscode-descriptionForeground)]",children:"No tags yet"}),le.trim()&&!ct.has(le.trim())&&(0,c.jsxs)(m.DropdownMenuItem,{className:"text-[11px] px-2 py-1",onClick:()=>{gt(le.trim()),ue("")},children:['Add "',le.trim(),'"']}),mt.map(([e,t])=>(0,c.jsxs)(m.DropdownMenuItem,{className:"text-[11px] px-2 py-1",onClick:()=>gt(e),children:[(0,c.jsx)("span",{className:(0,g.cn)("mr-2 h-2 w-2 rounded-full border",ce.includes(e)?"bg-[var(--lanonasis-accent)] border-[var(--lanonasis-accent)]":"border-[var(--vscode-panel-border)]")}),(0,c.jsx)("span",{className:"flex-1 text-left",children:e}),(0,c.jsx)("span",{className:"opacity-60",children:t})]},e)),jt&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(m.DropdownMenuSeparator,{className:"bg-[var(--vscode-panel-border)] my-1"}),(0,c.jsx)(m.DropdownMenuItem,{className:"text-[11px] px-2 py-1",onClick:ft,children:"Clear filters"})]})]})]}),(0,c.jsxs)(m.DropdownMenu,{children:[(0,c.jsx)(m.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[11px] whitespace-nowrap","aria-label":"More filters",children:"Filters"})}),(0,c.jsxs)(m.DropdownMenuContent,{align:"end",className:"min-w-[220px] p-2",children:[(0,c.jsx)(m.DropdownMenuLabel,{className:"text-[11px] text-[var(--vscode-descriptionForeground)]",children:"Status"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-1 px-1 py-1",children:["all","active","archived","draft","deleted"].map(e=>(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:(0,g.cn)("h-6 px-2 text-[11px]",pe===e?"bg-[var(--lanonasis-accent)] text-[var(--lanonasis-accent-foreground)]":"text-[var(--vscode-descriptionForeground)]"),onClick:()=>me(e),"aria-pressed":pe===e,children:"all"===e?"All":e},e))}),(0,c.jsx)(m.DropdownMenuSeparator,{className:"bg-[var(--vscode-panel-border)] my-1"}),(0,c.jsx)(m.DropdownMenuLabel,{className:"text-[11px] text-[var(--vscode-descriptionForeground)]",children:"Date range"}),(0,c.jsxs)("div",{className:"px-1 py-1 space-y-2",children:[(0,c.jsx)(h.Input,{type:"date",value:ve.start,onChange:e=>xe(t=>({...t,start:e.target.value})),className:"h-7 text-[11px]","aria-label":"Start date"}),(0,c.jsx)(h.Input,{type:"date",value:ve.end,onChange:e=>xe(t=>({...t,end:e.target.value})),className:"h-7 text-[11px]","aria-label":"End date"})]}),jt&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(m.DropdownMenuSeparator,{className:"bg-[var(--vscode-panel-border)] my-1"}),(0,c.jsx)(m.DropdownMenuItem,{className:"text-[11px] px-2 py-1",onClick:ft,children:"Clear filters"})]})]})]})]}),jt&&(0,c.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-[var(--vscode-descriptionForeground)]",children:[(0,c.jsxs)("span",{children:["Showing ",ht.length," of ",L.length]}),(0,c.jsx)("button",{className:"text-[10px] text-[var(--vscode-textLink-foreground)] hover:underline",onClick:ft,children:"Clear filters"})]}),(0,c.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,c.jsxs)(p.default,{className:"flex-1 vscode-button h-7 gap-1.5",onClick:()=>ze("createMemory",{title:"New Memory",content:"Created from enhanced UI",memory_type:"context",tags:[]}),"data-testid":"btn-create",children:[(0,c.jsx)(l.Plus,{className:"h-3.5 w-3.5"}),"Create"]}),(0,c.jsxs)(p.default,{className:"flex-1 vscode-button vscode-button-secondary h-7 gap-1.5",onClick:z,disabled:A,"data-testid":"btn-sync",children:[(0,c.jsx)(l.RefreshCw,{className:(0,g.cn)("h-3.5 w-3.5",A&&"animate-spin")}),"Sync"]})]}),A&&(0,c.jsxs)("div",{className:"p-4 flex flex-col items-center justify-center gap-2",children:[(0,c.jsx)("div",{className:"h-5 w-5 border-2 border-[var(--vscode-button-background)] border-t-transparent rounded-full animate-spin"}),(0,c.jsx)("span",{className:"text-[12px] text-[var(--vscode-descriptionForeground)]",children:"Loading memories..."})]}),!A&&T&&(0,c.jsxs)("div",{className:"p-3 bg-[var(--vscode-inputValidation-errorBackground)] border border-[var(--vscode-inputValidation-errorBorder)] rounded text-[13px] flex items-start gap-2",children:[(0,c.jsx)(l.AlertCircle,{className:"h-4 w-4 text-[var(--vscode-errorForeground)] shrink-0 mt-0.5"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("p",{className:"text-[var(--vscode-errorForeground)]",children:T}),(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"mt-2 h-6 text-[11px]",onClick:z,children:"Try again"})]})]}),!A&&!T&&(0,c.jsx)("div",{className:"space-y-0.5","data-tour":"memories",children:0===ht.length?(0,c.jsx)("div",{className:"p-4 text-center text-[13px] text-[var(--vscode-descriptionForeground)] space-y-3",children:at?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"text-[13px] text-[var(--vscode-editor-foreground)]",children:['No matches for "',Fe,'"']}),(0,c.jsx)("div",{className:"text-[11px] text-[var(--vscode-descriptionForeground)]",children:"Try refining your query or use a saved search."}),(he.length>0||pt.length>0)&&(0,c.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[he.slice(0,3).map(e=>(0,c.jsx)("button",{className:"rounded-full bg-[var(--vscode-badge-background)]/20 px-2 py-0.5 text-[10px] text-[var(--vscode-badge-foreground)] hover:bg-[var(--vscode-badge-background)]/40",onClick:()=>We(e),children:e},e)),pt.slice(0,3).map(([e])=>(0,c.jsxs)("button",{className:"rounded-full bg-[var(--vscode-badge-background)]/10 px-2 py-0.5 text-[10px] text-[var(--vscode-descriptionForeground)] hover:bg-[var(--vscode-badge-background)]/30",onClick:()=>gt(e),children:["Tag: ",e]},e))]}),(0,c.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[11px]",onClick:()=>E(""),children:"Clear search"}),(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[11px]",onClick:Et,children:"Create memory from search"})]})]}):0===F.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"text-[13px] text-[var(--vscode-editor-foreground)]",children:"Your memory space is empty"}),(0,c.jsx)("div",{className:"text-[11px] text-[var(--vscode-descriptionForeground)]",children:"Capture notes, decisions, and context to power your assistant."}),(0,c.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[11px]",onClick:()=>ze("createMemory",{title:"New Memory",content:"Captured from the sidebar",memory_type:"context",tags:[]}),children:"Create memory"}),(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[11px]",onClick:He,children:"Quick capture"})]})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"text-[13px] text-[var(--vscode-editor-foreground)]",children:"No memories match your filters"}),(0,c.jsx)("div",{className:"text-[11px] text-[var(--vscode-descriptionForeground)]",children:"Adjust your filters or clear them to see more."}),(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[11px]",onClick:ft,children:"Clear filters"})]})}):wt?(0,c.jsx)(_.VirtualSectionList,{items:kt,className:"pr-1",maxHeight:460}):lt.map(e=>{const t=Nt[e]||[];if(0===t.length)return null;const r=!Me[e];return(0,c.jsxs)(v.Collapsible,{open:r,className:"mb-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 px-1 py-1 text-[11px] text-[var(--vscode-sideBarSectionHeader-foreground)] uppercase font-semibold cursor-pointer",onClick:()=>Ze(e),children:[(0,c.jsx)(l.ChevronRight,{className:(0,g.cn)("h-3.5 w-3.5 text-[var(--vscode-icon-foreground)] transition-transform",r&&"rotate-90")}),(0,c.jsx)("span",{children:bt[e]||e}),(0,c.jsx)("span",{className:"ml-auto rounded-full bg-[var(--vscode-badge-background)]/20 px-2 py-0.5 text-[10px] text-[var(--vscode-badge-foreground)] normal-case",children:t.length})]}),(0,c.jsx)(v.CollapsibleContent,{className:"space-y-0.5",children:t.map(e=>(0,c.jsx)(j.MemoryCard,{memory:e,onAttach:et,onCopy:tt,onEdit:rt,onDelete:Je,highlightQuery:B,showRelevance:Boolean(Fe),typeLabel:bt[e.type]||e.type},e.id))})]},e)})})]}):Le?null:(0,c.jsx)(C.WelcomeView,{onLogin:s,isLoading:t})})]})]})}),re&&(0,c.jsxs)("div",{className:"px-3 py-2 bg-[var(--vscode-textCodeBlock-background)] border-t border-[var(--vscode-panel-border)]",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,c.jsx)("span",{className:"text-[10px] font-medium text-[var(--vscode-descriptionForeground)] uppercase",children:"Clipboard Content"}),(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-5 px-1",onClick:Bt,title:"Attach to chat",children:(0,c.jsx)(l.Paperclip,{className:"h-3 w-3"})}),(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-5 px-1",onClick:()=>se(null),title:"Dismiss",children:(0,c.jsx)(l.X,{className:"h-3 w-3"})})]})]}),(0,c.jsx)("div",{className:"text-[11px] text-[var(--vscode-descriptionForeground)] bg-[var(--vscode-editor-background)] border border-[var(--vscode-panel-border)] rounded p-2 max-h-24 overflow-y-auto",children:re.length>200?`${re.slice(0,200)}...`:re})]}),$.length>0&&(0,c.jsxs)("div",{className:"px-3 py-2 bg-[var(--vscode-textCodeBlock-background)] border-t border-[var(--vscode-panel-border)]",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,c.jsxs)("span",{className:"text-[10px] font-medium text-[var(--vscode-descriptionForeground)] uppercase",children:["Context (",$.length,")"]}),(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-4 text-[10px] px-1",onClick:q,children:"Clear all"})]}),(0,c.jsx)("div",{className:"flex flex-wrap gap-1",children:$.map(e=>(0,c.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-[11px] bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)]",children:[(0,c.jsx)(l.Paperclip,{className:"h-3 w-3 opacity-70"}),(0,c.jsx)("span",{className:"max-w-[100px] truncate",children:e.title}),(0,c.jsx)("button",{className:"ml-1 hover:text-[var(--vscode-errorForeground)] transition-colors",onClick:()=>U(e.id),children:(0,c.jsx)(l.X,{className:"h-3 w-3"})})]},e.id))})]}),(0,c.jsx)("div",{"data-tour":"chat",children:(0,c.jsx)(w.ChatInterface,{value:Q,onChange:V,onSend:Ie,isAuthenticated:e,isLoading:G,attachedCount:$.length,onPaste:Re})}),(0,c.jsx)(k.ApiKeyManager,{isOpen:J,onClose:()=>X(!1)}),(0,c.jsx)(x.Dialog,{open:ke,onOpenChange:Ce,children:(0,c.jsxs)(x.DialogContent,{className:"bg-[var(--vscode-editor-background)] border border-[var(--vscode-panel-border)] text-[var(--vscode-editor-foreground)] max-w-lg p-0 overflow-hidden",children:[(0,c.jsx)("div",{className:"p-4 border-b border-[var(--vscode-panel-border)]",children:(0,c.jsxs)(x.DialogHeader,{children:[(0,c.jsx)(x.DialogTitle,{className:"text-[14px]",children:"Customize sidebar"}),(0,c.jsx)(x.DialogDescription,{className:"text-[11px]",children:"Reorder sections, hide types, and adjust the accent theme."})]})}),(0,c.jsxs)("div",{className:"p-4 space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-[11px] font-semibold uppercase text-[var(--vscode-descriptionForeground)]",children:"Memory sections"}),(0,c.jsx)("div",{className:"mt-2 space-y-2",children:yt.map((e,t)=>(0,c.jsxs)("div",{className:(0,g.cn)("flex items-center gap-2 rounded-sm border border-[var(--vscode-panel-border)] px-2 py-1",Ne.hiddenTypes.includes(e)&&"opacity-60"),children:[(0,c.jsx)("span",{className:"flex-1 text-[12px]",children:bt[e]||e}),(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[10px]",disabled:0===t,onClick:()=>Ct(e,"up"),children:"Up"}),(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[10px]",disabled:t===yt.length-1,onClick:()=>Ct(e,"down"),children:"Down"}),(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[10px]",onClick:()=>Mt(e),children:Ne.hiddenTypes.includes(e)?"Show":"Hide"})]},e))})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-[11px] font-semibold uppercase text-[var(--vscode-descriptionForeground)]",children:"Theme"}),(0,c.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:["default","sunset","ocean","slate"].map(e=>(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:(0,g.cn)("h-6 text-[10px]",Ne.theme===e?"bg-[var(--lanonasis-accent)] text-[var(--lanonasis-accent-foreground)]":"text-[var(--vscode-descriptionForeground)]"),onClick:()=>St(e),children:e},e))})]})]}),(0,c.jsx)("div",{className:"p-3 border-t border-[var(--vscode-panel-border)] flex justify-end",children:(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6",onClick:()=>Ce(!1),children:"Done"})})]})}),(0,c.jsx)(x.Dialog,{open:Boolean(_e),onOpenChange:e=>!e&&Oe(null),children:(0,c.jsxs)(x.DialogContent,{className:"bg-[var(--vscode-editor-background)] border border-[var(--vscode-panel-border)] text-[var(--vscode-editor-foreground)] max-w-sm p-4",children:[(0,c.jsxs)(x.DialogHeader,{children:[(0,c.jsx)(x.DialogTitle,{className:"text-[14px]",children:"Delete memory"}),(0,c.jsx)(x.DialogDescription,{className:"text-[11px]",children:_e?`This will permanently remove "${_e.title}".`:"This action cannot be undone."})]}),(0,c.jsxs)(x.DialogFooter,{className:"mt-4 flex gap-2",children:[(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6",onClick:Ye,children:"Cancel"}),(0,c.jsx)(p.default,{variant:"ghost",size:"sm",className:"h-6 text-[var(--vscode-errorForeground)]",onClick:Xe,children:"Delete"})]})]})})]}),(0,c.jsx)(S.GuidedTourOverlay,{open:ae,steps:st,scrollContainerRef:Te,onClose:()=>oe(!1),onComplete:()=>{oe(!1),i("tour")}})]})}},80264(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.useOnboarding=function(){const[e,t]=(0,s.useState)(null),[r,a]=(0,s.useState)(!0),o=(0,s.useRef)(!1),n=(0,s.useCallback)((e,t)=>{window.vscode&&window.vscode.postMessage({type:e,data:t})},[]);(0,s.useEffect)(()=>{const e=e=>{const r=e.data;"onboardingState"===r.type&&(t(r.data),a(!1))};return window.addEventListener("message",e),o.current||(n("getOnboardingState"),o.current=!0),()=>window.removeEventListener("message",e)},[n]);return{status:e,isLoading:r,refresh:(0,s.useCallback)(()=>{a(!0),n("getOnboardingState")},[n]),completeStep:(0,s.useCallback)(e=>{n("completeOnboardingStep",{step:e})},[n]),skipOnboarding:(0,s.useCallback)(()=>{n("skipOnboarding")},[n]),resetOnboarding:(0,s.useCallback)(()=>{n("resetOnboarding")},[n])}};const s=r(96540)},85723(e,t,r){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DialogFooter=t.DialogDescription=t.DialogTitle=t.DialogHeader=t.DialogContent=t.Dialog=void 0;const a=r(74848),o=s(r(96540)),n=r(59050),i=o.default.createContext(void 0);t.Dialog=({open:e,onOpenChange:t,children:r})=>(o.default.useEffect(()=>(document.body.style.overflow=e?"hidden":"",()=>{document.body.style.overflow=""}),[e]),e?(0,a.jsx)(i.Provider,{value:{open:e,onOpenChange:t},children:(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50",onClick:()=>t(!1)}),r]})}):null),t.DialogContent=({className:e,children:t,...r})=>(0,a.jsx)("div",{className:(0,n.cn)("relative z-50 w-full max-w-lg rounded-lg bg-[var(--vscode-editor-background)] text-[var(--vscode-editor-foreground)] shadow-lg",e),onClick:e=>e.stopPropagation(),...r,children:t}),t.DialogHeader=({className:e,...t})=>(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t}),t.DialogTitle=({className:e,...t})=>(0,a.jsx)("h2",{className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}),t.DialogDescription=({className:e,...t})=>(0,a.jsx)("p",{className:(0,n.cn)("text-sm text-[var(--vscode-descriptionForeground)]",e),...t}),t.DialogFooter=({className:e,...t})=>(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t})},86103(e,t,r){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(74848),o=(s(r(96540)),r(59050));t.default=({className:e,variant:t="default",size:r="default",children:s,...n})=>(0,a.jsx)("button",{className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[t],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[r],e),...n,children:s})},86791(e,t,r){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;const a=r(74848),o=s(r(96540)),n=r(59050),i=o.default.forwardRef(({className:e,type:t,...r},s)=>(0,a.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-[var(--vscode-input-border)] bg-[var(--vscode-input-background)] px-3 py-2 text-sm text-[var(--vscode-input-foreground)] ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--vscode-input-placeholderForeground)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--vscode-focusBorder)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));t.Input=i,i.displayName="Input"},92878(e,t,r){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(74848),o=(s(r(96540)),r(63054)),n=r(35378);t.default=()=>(0,a.jsx)(n.ErrorBoundary,{fallbackMessage:"The Memory panel encountered an error.",children:(0,a.jsx)(o.IDEPanel,{})})}}]);